<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Passwort zurücksetzen</title>
    <link rel="stylesheet" href="/Css/NewPassword.css">
    <script>
    async function resetPassword(event) {
            event.preventDefault();
            const email = document.getElementById('email').value;
            const verificationKey = document.getElementById('verificationKey').value;
            const newPassword = document.getElementById('newPassword').value;

            const response = await fetch('/passwordReset/newPassword', {  < !--Hier die Route angepasst-- >
                method: 'POST',
                headers: {
                'Content-Type': 'application/json'
            },
                body: JSON.stringify({ email, verificationKey, newPassword })
                });

        const message = await response.text();
        alert(message);

        if (response.status === 200) {
            setTimeout(() => {
                window.location.href = '/login';
            }, 1000); // Weiterleitung nach 1 Sekunden
        }
            }</script>
</head>
<body>
    <h1>Passwort zuruecksetzen</h1>
    <form onsubmit="resetPassword(event)">
        <label for="email">E-Mail:</label>
        <input type="email" id="email" name="email" required>
        <label for="verificationKey">Verifizierungsschlüssel:</label>
        <input type="text" id="verificationKey" name="verificationKey" required>
        <label for="newPassword">Neues Passwort:</label>
        <input type="password" id="newPassword" name="newPassword" required>
        <button type="submit">Zurücksetzen</button>
    </form>
</body>
</html>
